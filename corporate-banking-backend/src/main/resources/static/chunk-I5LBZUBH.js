import{a as I}from"./chunk-RZE7Z2RZ.js";import{c as h,e as b}from"./chunk-N6BUJSKD.js";import{Nb as o,Oa as r,Pb as p,Vb as g,Xa as c,bb as f,dc as x,fb as l,pb as d,qb as a,rb as n,sc as u,tc as C,uc as v,yc as _,zb as m}from"./chunk-6NNWKDWV.js";var E=(t,i,e)=>({approved:t,pending:i,rejected:e}),M=(t,i,e)=>({"status-approved":t,"status-pending":i,"status-rejected":e});function O(t,i){t&1&&(a(0,"div"),o(1,` Loading...
`),n())}function P(t,i){if(t&1&&(a(0,"div"),o(1),n()),t&2){let e=m();r(),p(" ",e.error,`
`)}}function y(t,i){if(t&1&&(a(0,"mat-card",7)(1,"h3"),o(2),n(),a(3,"p")(4,"b"),o(5,"Amount:"),n(),o(6),n(),a(7,"p")(8,"b"),o(9,"Tenure:"),n(),o(10),n(),a(11,"p")(12,"b"),o(13,"Purpose:"),n(),o(14),n(),a(15,"div",8),o(16),n()()),t&2){let e=i.$implicit;d("ngClass",g(7,E,e.status==="APPROVED",e.status==="PENDING",e.status==="REJECTED")),r(2),p("Client ID: ",e.clientId),r(4),p(" ",e.requestAmount),r(4),p(" ",e.tenureMonths," months"),r(4),p(" ",e.purpose),r(),d("ngClass",g(11,M,e.status==="APPROVED",e.status==="PENDING",e.status==="REJECTED")),r(),p(" ",e.status,`
`)}}function S(t,i){if(t&1&&(a(0,"div",5),l(1,y,17,15,"mat-card",6),n()),t&2){let e=m();r(),d("ngForOf",e.credits)}}function D(t,i){t&1&&(a(0,"div"),o(1,` No credit requests found.
`),n())}var w=class t{constructor(i,e){this.creditService=i;this.cd=e}credits=[];loading=!0;error="";ngOnInit(){console.log("\u{1F4CC} ViewCreditsComponent INIT"),this.creditService.getMyCreditRequests().subscribe({next:i=>{this.credits=i,this.loading=!1,this.cd.detectChanges()},error:i=>{this.error="Failed to load credit requests",this.loading=!1,this.cd.detectChanges()}})}static \u0275fac=function(e){return new(e||t)(c(I),c(x))};static \u0275cmp=f({type:t,selectors:[["app-view-credits"]],decls:8,vars:4,consts:[[1,"credits-page"],[1,"page-title-wrapper"],[1,"page-title-pill"],[4,"ngIf"],["class","credits-grid",4,"ngIf"],[1,"credits-grid"],["class","credit-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"credit-card",3,"ngClass"],[1,"status-pill",3,"ngClass"]],template:function(e,s){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),o(3," Credit Requests "),n()(),l(4,O,2,0,"div",3)(5,P,2,1,"div",3)(6,S,2,1,"div",4)(7,D,2,0,"div",3),n()),e&2&&(r(4),d("ngIf",s.loading),r(),d("ngIf",!s.loading&&s.error),r(),d("ngIf",!s.loading&&s.credits.length>0),r(),d("ngIf",!s.loading&&s.credits.length===0))},dependencies:[_,u,C,v,b,h],styles:[".credits-page[_ngcontent-%COMP%]{padding:40px 32px 32px;background:#f5f7fb;min-height:100vh}.page-title-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:32px 0 36px}.page-title-pill[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#1e40af);color:#fff;padding:14px 36px;border-radius:999px;font-size:20px;font-weight:600;letter-spacing:.4px;box-shadow:0 10px 24px #2563eb59}.credits-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(360px,1fr));gap:26px}.credit-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:18px 20px;box-shadow:0 10px 26px #0000000f;border-left:6px solid #2563eb;transition:transform .2s ease,box-shadow .2s ease}.credit-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 16px 36px #0000001f}.row[_ngcontent-%COMP%]{display:grid;grid-template-columns:140px 1fr;margin-bottom:10px}.label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#6b7280;text-transform:uppercase}.value[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#111827}.status-pill[_ngcontent-%COMP%]{position:relative;height:30px;border-radius:999px;margin-top:14px;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:700;letter-spacing:.5px;text-transform:uppercase}.status-approved[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-pending[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.status-rejected[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}"]})};export{w as ViewCreditsComponent};
